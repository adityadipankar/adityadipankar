function class_LocalStorage(){var a=function(a){return a&&JSON.parse(atob(a))||null},b=function(a){return btoa(JSON.stringify(a))},c=function(a){return a.substring("orcsnet:q:".length)},d=function(a){return"orcsnet:q:"+String(a)},e=function(a){return 0===a.indexOf("orcsnet:q:")},f=function(){};this.listeners=[],this.registerListener=function(a){this.listeners.push(a)},this.eventQ={},this._loadEventIntoQ=function(a,b){b?this.eventQ[a]=b:delete this.eventQ[a],this.listeners.forEach(function(a){a()})},this.loadFromLS=function(){for(var b in window.localStorage)if(e(b)){var d=c(b),g=a(window.localStorage.getItem(b));g&&(g.url=decodeURIComponent(g.url),g.title=decodeURIComponent(g.title),g.author=decodeURIComponent(g.author),f("[loadFromLS]: @["+d+"]: "+g.author+" | "+g.amt)),this._loadEventIntoQ(d,g)}},this.flushQ=function(){for(var a in window.localStorage)e(a)&&window.localStorage.removeItem(a);this.eventQ={}},this.loadFromLS();var g=this;window.addEventListener("storage",function(b){if(e(b.key)){var d=c(b.key),h=a(b.newValue);h&&(h.url=decodeURIComponent(h.url),h.title=decodeURIComponent(h.title),h.author=decodeURIComponent(h.author),f("[storage-listener]: @["+d+"]: "+h.author+" | "+h.amt)),g._loadEventIntoQ(d,h)}}),this.addEventToQ=function(a){var c=(new Date).valueOf();f("[addEventToQ]: @["+c+"]: "+a.author+" | "+a.amt);var e={};for(var g in a)a.hasOwnProperty(g)&&(e[g]=a[g]);a.url=encodeURIComponent(a.url),a.title=encodeURIComponent(a.title),a.author=encodeURIComponent(a.author),window.localStorage.setItem(d(c),b(a)),this._loadEventIntoQ(c,e)},this.getCurrentState=function(){var a=Object.keys(this.eventQ);a.sort(),a.reverse();var b=[],c=[];return a.forEach(function(a){for(var d=this.eventQ[a],e=!1,g=0;g<c.length;g++)if(c[g].url===d.url){e=!0;break}e||(f("[LS.getCurrentState] @["+a+"]: "+d.author+" | "+d.amt),c.push({url:d.url}),d.amt>0&&b.push(d))},this),b}}function class_Plugin(){"use strict";this.positioning={},this.init=function(a){if(Plugin.log("[Plugin.app.init]"),window.location.href.indexOf("localhost")>-1&&(Plugin.log=function(a){Plugin.app.parsedParams?console.log("["+Plugin.app.parsedParams.iframe_id+"]: "+a):console.log(a)},Plugin.log("[Plugin.app.init]: starting console logger")),this.publisherConfig.hasOwnProperty(a.ownerid)||(console.error("unknown publisher "+a.ownerid+", falling back to default"),a.ownerid="default"),this.parsedParams=a,this.config=this.publisherConfig[this.parsedParams.ownerid],this.parsedParams.wp_link){var b=this.parsedParams.wp_link.split("/");this.origin=b[0]+"//"+b[2]}else this.parsedParams.origin&&(this.origin=this.parsedParams.origin);this.parsedParams.author||(this.parsedParams.author=this.config.ownerName),this.parsedParams.title||(this.parsedParams.channelName?this.parsedParams.title="via "+this.parsedParams.channelName:this.parsedParams.title=this.config.ownerName),this.parsedParams.content_url||(this.parsedParams.content_url=this.config.contentUrl,this.parsedParams.channel&&(this.parsedParams.content_url+="#"+this.parsedParams.channel)),this.config.payNowChannels=this.config.payNowChannels||["twitter","facebook","email","whatsapp","instagram"],this.firstTimeUser=!1;for(var c=0;c<this.config.fontUrls.length;++c){var d=document.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("href",this.config.fontUrls[c]),document.getElementsByTagName("head")[0].append(d)}if(this.config.useMicron){var d=document.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),d.setAttribute("href","https://unpkg.com/webkul-micron@1.1.1/dist/css/micron.min.css"),document.getElementsByTagName("head")[0].append(d);var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","https://unpkg.com/webkul-micron@1.1.1/dist/script/micron.min.js"),document.getElementsByTagName("head")[0].append(e),this.micronEffectQueue=[]}"default"!==this.parsedParams.ownerid&&this.setupLocalTracker(),this.onValidConfig()},this.setupLocalTracker=function(){var a=this.parsedParams.ownerid,b=function(b){return"orcsnet:"+b+":"+a},c=function(a){return Number(localStorage.getItem(b(a)))};setTimeout(function(){var a=c("site-visits")+1,d=(new Date).valueOf();localStorage.setItem(b("site-visits"),String(a)),localStorage.setItem(b("last-visit"),String(d));var e=c("site-seconds")+15;localStorage.setItem(b("site-seconds"),String(e));var f=5;setInterval(function(){var a=c("site-seconds")+f;localStorage.setItem(b("site-seconds"),String(a))},1e3*f)},15e3)},this.sendMsgToParent=function(a){this.parsedParams.iframe_id&&this.origin&&(a.iframe_id=this.parsedParams.iframe_id,window.parent.postMessage(a,this.origin))},this.sendHeight=function(){var a=document.getElementById("orcsnet").getClientRects()[0].height;this.sendMsgToParent({action:"height",height:a})},this.sendScrollIntoView=function(){this.sendMsgToParent({action:"scroll-into-view"})},this.requestPositioning=function(){this.sendMsgToParent({action:"send-positioning"})},this.sendPositioning=function(){this.sendMsgToParent({action:"set-positioning",positioning:this.positioning})},this.pluginMessageHandler=function(a){var b=a.origin||a.originalEvent.origin;if(b===this.origin){var c=a.data;c&&c.positioning&&(this.positioning=c.positioning,Plugin.log("[Plugin.app.pluginMessageHandler]: rcvd positioning "+JSON.stringify(this.positioning)))}},this.thisUrlExists=function(){return-1<this.unpaid.findIndex({url:Plugin.app.parsedParams.content_url})},this.onValidConfig=function(){Plugin.log("[Plugin.app.onValidConfig]: ready"),window.addEventListener("message",this.pluginMessageHandler.bind(this)),this.storage=new class_LocalStorage,window.localStorage.getItem("orcsnet:upgrade-log-utf8-articleinfo")||(window.localStorage.setItem("orcsnet:upgrade-log-utf8-articleinfo",1),Plugin.log("upgrade-log-utf8-articleinfo"),this.storage.flushQ()),this.backToFront();var a=this;this.storage.registerListener(function(){a.currentView&&a.currentView.updateCart&&a.currentView.updateCart()}),AWS.config.region="ap-south-1",AWS.config.credentials&&AWS.config.credentials.clearCachedId(),AWS.config.credentials=new AWS.CognitoIdentityCredentials({IdentityPoolId:"ap-south-1:8c5554f0-5d82-47a3-9215-4e3f1d0f334c"}),AWS.config.credentials.get(function(){}),setTimeout(function(){a.sendEvent({action:"15secview",royalty:"-"})},15e3)},this.backToFront=function(){this.unpaid=new Backbone.Collection(this.storage.getCurrentState()),"supportkl"===this.parsedParams.channel?this.loadSupportKL():this.config.payNowChannels.indexOf(this.parsedParams.channel)>-1?this.loadPayNow():this.config.allInOne?this.loadAllInOne():this.config.softSell?this.loadSoftSell():this.loadUnclicked()},this.packageRoyaltyForJson=function(a){var b={version:2,to:a.to,url:encodeURIComponent(a.url),amt:100*a.amt};return b},this.packageRoyaltyForCsv=function(a){var b="";return"-"===a?(b+=Plugin.app.parsedParams.ownerid+",",b+=encodeURIComponent(Plugin.app.parsedParams.content_url)+",",b+=encodeURIComponent(Plugin.app.parsedParams.author?Plugin.app.parsedParams.author.replace(/,/g,""):"-")+",",b+=encodeURIComponent(Plugin.app.parsedParams.title?Plugin.app.parsedParams.title.replace(/,/g,""):"")+",",b+="-"):a?(b+=a.to+",",b+=encodeURIComponent(a.url)+",",b+=encodeURIComponent(a.author?a.author.replace(/,/g,""):"")+",",b+=encodeURIComponent(a.title?a.title.replace(/,/g,""):"")+",",b+=String(a.amt)):b="-,-,-,-,-",b},this.packageRoyaltyForCsv_v3=function(a,b){var c=function(a){var b=document.createElement("a");return b.href=a,b.hostname+":"+md5(a)};"-"===a&&(a={url:Plugin.app.parsedParams.content_url,amt:"-"});var d="";return d+=c(a.url)+",",d+=encodeURIComponent(a.url)+",",d+=b+",",d+=String(a.amt)+","},this.sendEvent=function(a){if(a=a||{},AWS.config.credentials.identityId){var b=AWS.config.credentials.identityId.substr(11),c=String((new Date).valueOf()),d=String((new Date).getTimezoneOffset()),e=window.location.origin.indexOf("http://localhost:")<0&&window.location.origin.indexOf("http://127.0.0.1:")<0,f=c;if(f+=","+b,f+=","+a.action,f+="supportkl"===a.action?","+this.packageRoyaltyForCsv(null):","+this.packageRoyaltyForCsv(a.royalty),f+=","+(this.parsedParams.instant_article?"ia":"-"),f+=","+(navigator.userAgent?navigator.userAgent.replace(/,/g,""):"-"),f+=","+d,f+="tap"===a.action||"bigtap"===a.action||"first-timer-tap"===a.action?","+a.royalty.midx:",-",f+="payment-success"===a.action?","+a.payment_id:",-",f+="\n",e){var g=new AWS.Kinesis({region:"eu-west-1"});g.putRecord({StreamName:"royalties",PartitionKey:b,Data:f},function(){})}}},this.loadAllInOne=function(){this.currentView&&this.currentView.close(),this.currentView=null,this.currentView=new Plugin.Views.AllInOne({el:document.getElementById("orcsnet")}),this.currentView.render()},this.loadSoftSell=function(){this.currentView&&this.currentView.close(),this.currentView=null,this.currentView=new Plugin.Views.SoftSell({el:document.getElementById("orcsnet")}),this.currentView.render()},this.loadUnclicked=function(){this.currentView&&this.currentView.close(),this.currentView=null,this.currentView=new Plugin.Views.Unclicked({el:document.getElementById("orcsnet")}),this.currentView.render()},this.loadPayNow=function(){this.currentView&&this.currentView.close(),this.currentView=null,this.currentView=new Plugin.Views.PayNow({el:document.getElementById("orcsnet")}),this.currentView.render()},this.runMicronEfects=function(){if(!this.micronEffectQueue)return 0;for(var a=0,b=0;b<this.micronEffectQueue.length;b++)a+=this.micronEffectQueue[b].durationMs;for(var b=0;b<this.micronEffectQueue.length;b++){var c=this.micronEffectQueue[b];window.micron.getEle("#"+c.id).interaction(c.interaction).duration(String(c.durationMs/1e3)).timing(c.timing)}return a},this.loadDashboard=function(){var a=this.runMicronEfects();setTimeout(this._loadDashboard.bind(this),a)},this._loadDashboard=function(){this.currentView&&this.currentView.close(),this.currentView=null,this.currentView=new Plugin.Views.Dashboard({el:document.getElementById("orcsnet")}),this.currentView.render()},this.loadThankYou=function(){this.currentView&&this.currentView.close(),this.currentView=null,this.currentView=new Plugin.Views.ThankYou({el:document.getElementById("orcsnet")}),this.currentView.render()},this.loadSupportKL=function(){this.currentView&&this.currentView.close(),this.currentView=null,this.currentView=new Plugin.Views.SupportKL({el:document.getElementById("orcsnet")}),this.currentView.render()},this.checkFirstTimeUser=function(a){Plugin.log("[Plugin.app.checkFirstTimeUser]"),window.localStorage.getItem("orcsnet:firstTimeClicked")||(window.localStorage.setItem("orcsnet:firstTimeClicked",1),this.firstTimeUser=!0)},this.rpOptions=function(a){var b={key:"rzp_live_CfH4Q5XXguxnY4",amount:String(a.amount),name:a.name,description:a.description,image:a.image,handler:function(b){Plugin.app.sendEvent({action:"payment-success",royalty:"-",payment_id:b.razorpay_payment_id});var c=new AWS.Lambda({region:"ap-south-1"});c.invoke({FunctionName:"CapturePayment",Payload:JSON.stringify({payment_id:b.razorpay_payment_id,amount:String(a.amount)}),InvocationType:"Event"},function(){}),_.defer(function(){Plugin.app.loadThankYou()})},modal:{ondismiss:function(){Plugin.app.sendEvent({action:"dismiss",royalty:"-"}),document.getElementById("orcsnet").style.height="",a.ondismiss&&a.ondismiss()}},notes:a.notes,theme:{color:Plugin.app.config.rpColor||"#F37254"}},c=window.localStorage.getItem("orcsnet:useremail")||null;c&&(b.prefill=b.prefill||{},b.prefill.email=c);var d=window.localStorage.getItem("orcsnet:userphone")||null;return d&&(b.prefill=b.prefill||{},b.prefill.contact=d),b},this.addFees=function(a){var b=.02,c=.18,d=Math.round(100*a/(1-b*(1+c)))/100,e=Math.round(100*d*b)/100,f=Math.round(100*e*c)/100,g=a-Math.round(100*(d-e-f))/100;d+=g;var h=Math.round(100*(d-a))/100;return{amount_to_pay:d,fees:h,base_amount:a}},this.queueMicronEffect=function(a){this.micronEffectQueue.push(a)};var a=["This is your travelling shopping cart (1/3)","Add ₹5 or more to your cart for articles you like (2/3)","Pay when you're ready. There are no deadlines (3/3)"];this.publisherConfig={"default":{ownerName:"ORCSNET DEMO",contentUrl:"https://orcsnet.com",fontUrls:["https://fonts.googleapis.com/css?family=Roboto","https://fonts.googleapis.com/css?family=Lato:400,900","https://fonts.googleapis.com/css?family=Noto+Serif:400,400i,700,700i"],themeColor:"#20c997",mutedThemeColor:"#d2ece5",rpColor:"#20c997",fontWt:"700",fontStyle:"font-family: 'Roboto', sans-serif;",logoUrl:"https://assets.orcsnet.com/img/your-logo-here.png",learnMore:a,showLearnMore:!0,useMicron:!0,messages:[{lines:[{text:"Speak directly to your audience using your own language and voice"},{text:"Provide a logo, a font and a primary color for your plugin",color:"black"}]}],plugin:{unclicked:{amounts:{later:[5],now:[50,500]}}},payNowChannels:["youtube","twitter","facebook","email","whatsapp","instagram"],youtube:{amounts:[50,500],thankyou:{checkMarkFG:"#20c997",checkMarkBG:"white"},messages:[{lines:[{text:"Support The Wire"}]}],borderDef:" ",btnBrdrWth:"1px",outerPadding:"0px",partnerLinkCol:"#007eff",fontWt:400,fontStyle:"font-family: 'Lato', sans-serif;",themeColor:"#c0392b",rpColor:"#c0392b",bgColor:"#bb2b2d",mutedThemeColor:"#434343",btnBrdrColor:"#434343",logoUrl:"https://assets.orcsnet.com/img/the-wire-362x362.png",btnWthCls:"two-btn-widths"},twitter:{amounts:[500,5e3]},facebook:{amounts:[50,500]},email:{amounts:[500,5e3]},whatsapp:{amounts:[20,200]},instagram:{amounts:[20,200]}},factly:{ownerName:"Factly",contentUrl:"https://factly.in/",fontUrls:["https://fonts.googleapis.com/css?family=Open+Sans:400"],themeColor:"black",themeColor2:"#e83845",mutedThemeColor:"#eabcc0",rpColor:"#e83845",fontWt:"400",fontStyle:"font-family: 'Open Sans', Arial, sans-serif;",logoUrl:"https://assets.orcsnet.com/img/factly.png",btnBrdrWth:"2px",learnMore:a,showLearnMore:!0,useMicron:!0,allInOne:!0,messages:[{lines:[{text:"We trust you found this useful."},{text:"Support our work:"}]}],allinone:{themeColor:"#c0392b",btnBrdrColor:"black",amounts:[10,100,1e3]},plugin:{unclicked:{amounts:{later:[10],now:[100,1e3]}},allinone:{amounts:[10,100,1e3]}},payNowChannels:["youtube","twitter","facebook","email","whatsapp","instagram"],paynow:{borderDef:" ",btnBrdrWth:"1px",outerPadding:"0px",partnerLinkCol:"#007eff",themeColor:"#c0392b",rpColor:"#e83845",bgColor:"#e83845",btnBrdrColor:"#434343",btnWthCls:"two-btn-widths",messages:[{lines:[{text:"Support our work"}]}]},thankyou:{checkMarkFG:"white",checkMarkBG:"#e83845"},youtube:{amounts:[50,200]},twitter:{amounts:[500,5e3]},facebook:{amounts:[50,500]},email:{amounts:[500,5e3]},whatsapp:{amounts:[20,200]},instagram:{amounts:[20,200]}},"the-wire":{ownerName:"The Wire",contentUrl:"https://thewire.in/",fontUrls:["https://fonts.googleapis.com/css?family=Lato:400,900","https://fonts.googleapis.com/css?family=Noto+Serif:400,400i,700,700i"],fontStyle:"font-family: 'Lato', sans-serif;",themeColor:"#c0392b",rpColor:"#c0392b",mutedThemeColor:"#434343",btnBrdrWth:"2px",btnBrdrColor:"#434343",logoUrl:"https://assets.orcsnet.com/img/the-wire-362x362.png",learnMore:a,showLearnMore:!1,useMicron:!1,needPAN:!0,needDOC:!0,messages:[{lines:[{text:"Support The Wire",color:"black"}]}],plugin:{unclicked:{t_prefix:"TheWire",messages:[{lines:[{html:'<i>Support us with a <span style="color: #c0392b; font-weight: 700;">₹5 micro-donation</span> toward this article &mdash; pay at your convenience.</i>'}]},{lines:[{html:'<i><span style="color: #c0392b; font-weight: 700;">NEW:</span> Support us with a <span style="color: #c0392b; font-weight: 700;">₹5 micro-donation</span> toward this article &mdash; pay at your convenience.</i>'}]}],amounts:{later:[10],now:[100,1e3]}},dashboard:{amtColor:"#434343"}},payNowChannels:["youtube","twitter","facebook","email","whatsapp","instagram"],paynow:{bgColor:"#ba2a2d"},youtube:{amounts:[100,1e3]},twitter:{amounts:[500,5e3]},facebook:{amounts:[50,500]},email:{amounts:[500,5e3]},whatsapp:{amounts:[50,500]},instagram:{amounts:[20,200]}},ippodhu:{ownerName:"Ippodhu",contentUrl:"http://ippodhu.com/",fontUrls:["https://fonts.googleapis.com/css?family=Roboto:100,300"],fontStyle:"font-family: 'Roboto', sans-serif;",themeColor:"#66a7f5",mutedThemeColor:"#c8dffb",rpColor:"#66a7f5",rupeeSymbol:"ரூ.",chooseAmount:"தொகையைத் தேர்வு செய்யுங்கள்",logoUrl:"https://assets.orcsnet.com/img/ippodhu-157x157.png",learnMore:a,showLearnMore:!1,useMicron:!1,allInOne:!1,softSell:!1,messages:[{lines:[{text:"இப்போதுவுக்கு வந்ததற்காக மிக்க நன்றி...",color:"black"},{text:"...உங்களுக்கு ஒரு விண்ணப்பம்; ”இப்போது” போன்ற சுதந்திரமான செய்தித் தளங்களே நமது ஜனநாயகத்தை வலுப்படுத்தும்; ஏற்றத்தாழ்வில்லாத சமூகத்தை உருவாக்கும்; ஒவ்வொரு வாசகரும் இதில் பங்களிக்கலாம்; இங்கே கிளிக் செய்து 5 ரூபாயோ அதற்கு மேலோ உங்கள் சக்திக்கேற்ப நன்கொடை வழங்குங்கள்.",color:"#66a7f5"}]},{lines:[{text:"Independent media outlets like us help us achieve a more fair and equitable society."},{text:"You can support Ippodhu by clicking a button below.",color:"black"}]},{lines:[{text:"எங்களோடு நீங்கள் பயணிப்பதில் மகிழ்ச்சி...",color:"black"},{text:"...தகவல்கள் சுதந்திரமாக பரிமாறப்படுவதால் சமூகங்கள் வலிமையாகின்றன; சரியான தகவல்களைச் சரியான நேரத்தில் வழங்க இப்போதுவுக்குக் கைகொடுங்கள்; இப்போதுவின் பொதுநல ஊடகவியலை வலுப்படுத்த 5 ரூபாய் அல்லது அதற்கு அதிகமாக பங்களிப்பு செய்ய இங்கே சொடுக்குங்கள்."}]},{lines:[{text:"Free flow of information makes societies stronger; Ippodhu makes available appropriate information at the appropriate moment."},{text:"Please contribute to sustain public interest journalism.",color:"black"}]},{lines:[{text:"மீண்டும் இப்போதுவுக்கு வந்ததற்கு நன்றி...",color:"black"},{text:"...இப்போது போன்ற சுதந்திரமான, சுயசார்பு ஊடகமே இந்தியாவின் சமூக, அரசியல், பொருளாதார ஆரோக்கியத்துக்கு உதவும்; இதனைப் பலப்படுத்த உங்களால் இயன்றதைச் செய்யுங்கள்; கீழேயுள்ள பொத்தானைச் சொடுக்கி, 5 ரூபாய் அல்லது அதற்கு மேலாக நன்கொடை வழங்குங்கள்."}]},{lines:[{text:"Free and Independent media such as Ippodhu can help the economic and political health of India."},{text:"Strengthen this media by supporting us today",color:"black"}]}],plugin:{unclicked:{amounts:{later:[5],now:[50,500]}},softsell:{weeklyActivity:"வாராந்திர செயல்பாடு",visits:"வருகைகள்",mintues:"நிமிடங்கள்"}},payNowChannels:["youtube","twitter","facebook","email","whatsapp","instagram","paynow"],paynow:{borderDef:" ",btnBrdrWth:"1px",outerPadding:"0px",partnerLinkCol:"#007eff",bgColor:"#66a7f5",btnBrdrColor:"#434343",btnWthCls:"two-btn-widths",messages:[{lines:[{text:"Support Ippodhu"}]}]},youtube:{amounts:[50,100]},twitter:{amounts:[100,500]},facebook:{amounts:[50,100]},email:{amounts:[100,500]},whatsapp:{amounts:[20,100]},instagram:{amounts:[20,100]},paynow:{amounts:[100,500]}},"khabar-lahariya":{ownerName:"Khabar Lahariya",contentUrl:"http://khabarlahariya.org/",fontUrls:["https://fonts.googleapis.com/css?family=Ek+Mukta:200,400,700"],fontStyle:"font-family: 'Ek Mukta', sans-serif;",fontWt:"700",themeColor:"#14499e",mutedThemeColor:"#c4d8f7",rpColor:"#14499e",logoUrl:"https://assets.orcsnet.com/img/kl-transparent-logo.png",cart:"रकम का पिटारा",chooseAmount:"रकम चुनें",yourInvoice:"आपकी रसीद",learnMore:a,showLearnMore:!1,useMicron:!1,askMonthly:!0,allInOne:!1,messages:[{lines:[{text:"A feisty rural woman reporter brought you this story.",color:"black"},{text:"SUPPORT THIS UNIQUE VOICE OF JOURNALISM."}]},{lines:[{text:"Like our stories?",color:"black"},{text:"Support independent media from rural India!"}]},{lines:[{text:"पसंद आईं हमारी खबरें?",color:"black"},{text:"स्वतंत्र, ग्रामीण मीडिया का समर्थन करें"}]},{lines:[{text:"यह खबर आप तक पहुंचाई है एक बेख़ौफ़ ग्रामीण महिला पत्रकार ने।",color:"black"},{text:"पत्रकारिता की इस आवाज़ को मज़बूत करें"}]},{lines:[{text:"Support real journalism from the hinterland",color:"black"},{text:"असली और ज़मीनी पत्रकारिता को आपकी हौसला अफ़ज़ाई का इंतज़ार है"}]},{lines:[{text:"Become a part of media history",color:"black"},{text:"Support independent rural journalism"}]},{lines:[{text:"पत्रकारिता का इतिहास आप भी रचें",color:"black"},{text:"स्वतंत्र, ग्रामीण मीडिया का समर्थन करें"}]}],showName:"खबर लहरिया",yourCart:"रकम का पिटारा",partnerLink:'<a href="https://orcsnet.com/" target="_blank" rel="nofollow">ओर्क्स्नेट</a> पार्टनर साईट',oneMomentPlease:"कृपया प्रतीक्षा करें...",payNow:"भुगतान करें",payLater:"बाद में भुगतान करें",saveForLater:"बाद में भुगतान करें",close:"खाली है!",byAuthor:function(a){return a+" द्वारा"},dateStr:"तारीख",subtotal:"सहोयग राशि",gatewayCosts:"गेटवे लागत",totalStr:"कुल",pay:"भुगतान करें",back:"रद्द करें / वापस जाएँ",thankyou:{checkMarkFG:"white",checkMarkBG:"#14499e",thankYou:"आपके सहयोग के लिए धन्यवाद"},plugin:{unclicked:{fontWt:"700",amounts:{later:[10],now:[100,1e3]}},allinone:{amounts:[20,200,2e3]}},facebook:{unclicked:{fontWt:"700",amounts:{later:[10],now:[100,1e3]}}},payNowChannels:["youtube","twitter","email","whatsapp","instagram","klpaynow"],paynow:{fontWt:"300",borderDef:" ",btnBrdrWth:"1px",outerPadding:"0px",partnerLinkCol:"#007eff",bgColor:"#14499e",btnBrdrColor:"#434343",logoUrl:"https://assets.orcsnet.com/img/kl-logo-white.png",partnerLink:'<a href="https://orcsnet.com/" target="_blank" rel="nofollow" style="">ओर्क्स्नेट</a> पार्टनर साईट'},youtube:{amounts:[10,50]},twitter:{amounts:[1e3,2500]},email:{amounts:[1e3,2500]},whatsapp:{amounts:[10,1e3]},instagram:{amounts:[1e3,2500]},klpaynow:{amounts:[1e3,2500]},supportkl:{supportkl:{amounts:{later:[],now:[1e3,2500]},btnWthCls:"two-btn-widths"}}}}}Plugin.Views=Plugin.Views||{},function(){"use strict";Plugin.Views.Unclicked=Backbone.NativeView.extend({getConfigVal:function(a,b){return this.uiConfig&&this.uiConfig.hasOwnProperty(a)?this.uiConfig[a]:this.channelConfig&&this.channelConfig.hasOwnProperty(a)?this.channelConfig[a]:Plugin.app.config.hasOwnProperty(a)?Plugin.app.config[a]:b},initialize:function(){this.listenTo(Plugin.app.unpaid,"add",this.render),this.listenTo(Plugin.app.unpaid,"remove",this.render),this.listenTo(Plugin.app.unpaid,"change",this.render);var a=function(a){return Math.floor(Math.random()*Math.floor(a))};this.channelConfig=Plugin.app.config[Plugin.app.parsedParams.channel],this.uiConfig=this.channelConfig.unclicked||{},this.t_prefix=this.getConfigVal("t_prefix","Standard");var b=this.getConfigVal("messages",[]);this.messageIdx=a(b.length),this.messageToShow=b[this.messageIdx]},events:{"click .add-to-cart":"preAddToCart","click .pay-now":"prePayNow","click #open-dashboard":"openDashboard","click .really-pay-now":"payNow"},close:function(){this.stopListening(),this.unbind(),this.undelegateEvents()},render:function(){var a=0;Plugin.app.unpaid.forEach(function(b){a+=b.get("amt")});var b="app/scripts/templates/"+this.t_prefix+"/Unclicked.ejs";this.el.innerHTML=JST[b].apply({saved_balance:a,uiConfig:this.uiConfig,channelConfig:this.channelConfig,messageToShow:this.messageToShow}),setTimeout(function(){Plugin.app.requestPositioning(),setTimeout(function(){Plugin.app.sendHeight()},100)},200)},sendEvent:function(a,b){var c={version:1,to:Plugin.app.parsedParams.ownerid,url:Plugin.app.parsedParams.content_url,title:Plugin.app.parsedParams.title||"",author:Plugin.app.parsedParams.author||"",amt:b,dm:(new Date).valueOf(),midx:this.messageIdx};return Plugin.app.sendEvent({action:a,royalty:c}),c},preAddToCart:function(a){a.preventDefault();var b=a.target||a.currentTarget;Plugin.app.config.useMicron&&window.micron&&Plugin.app.queueMicronEffect({id:b.id,interaction:"bounce",durationMs:250,timing:"ease-out"});var c=b.getAttribute("data-amt");if(c=c?Number(c):Plugin.app.config.defaultAmount||5,Plugin.app.config.showboom){this.showboom=!0,this.render();var d=this;setTimeout(function(){var a=document.getElementsByClassName("boom");a.length>0&&(a[0].style["font-size"]="35px"),setTimeout(function(){var a=document.getElementsByClassName("boom");a.length>0&&(a[0].style["font-size"]="20px"),a.length>0&&(a[0].style.color="#51791e"),setTimeout(function(){d.showboom=!1,d.addToCart(c)},400)},400)},1)}else this.addToCart(c)},addToCart:function(a){if(Plugin.app.checkFirstTimeUser(),Plugin.app.firstTimeUser){var b=this.sendEvent("first-timer-tap",a);Plugin.app.storage.addEventToQ(b)}else{var b=this.sendEvent("tap",a);Plugin.app.storage.addEventToQ(b)}this.openDashboard()},prePayNow:function(a){a.preventDefault();var b=a.target||a.currentTarget,c=b.getAttribute("data-amt");c?this.payNowAmt=Number(c):this.payNowAmt=Plugin.app.config.defaultAmount||5,this.sendEvent(Plugin.app.parsedParams.channel,this.payNowAmt),this.payNow(a)},payNow:function(a){a.preventDefault();a.target||a.currentTarget;document.getElementById("orcsnet").style.height="600px",setTimeout(function(){Plugin.app.sendHeight()},200),setTimeout(function(){Plugin.log("sendScrollIntoView"),Plugin.app.sendScrollIntoView()},500);var b={frompage:Plugin.app.parsedParams.content_url,channel:Plugin.app.parsedParams.channel,publisher_0:Plugin.app.config.ownerName,amount_0:this.payNowAmt,subtotal:this.payNowAmt,fees:0,total:this.payNowAmt},c=Plugin.app.rpOptions({amount:100*this.payNowAmt,name:Plugin.app.config.ownerName,description:"An Orcsnet partner website",image:Plugin.app.config.logoUrl,ondismiss:this.render.bind(this),notes:b}),d=new Razorpay(c);d.open()},updateCart:function(){Plugin.log("Unclicked.updateCart"),Plugin.app.unpaid.reset(Plugin.app.storage.getCurrentState()),this.render()},openDashboard:function(a){Plugin.app.sendEvent({action:"opendash",royalty:"-"}),_.defer(function(){Plugin.app.loadDashboard()})}})}(),Plugin.Views=Plugin.Views||{},function(){"use strict";Plugin.Views.Dashboard=Backbone.NativeView.extend({_end_range:function(a){return Math.min(a+3,Plugin.app.unpaid.length)},initialize:function(){this.listenTo(Plugin.app.unpaid,"reset",this.render),this.listenTo(Plugin.app.unpaid,"add",this.render),this.listenTo(Plugin.app.unpaid,"remove",this.render),this.listenTo(Plugin.app.unpaid,"change",this.render),this.learnMore=Plugin.app.config.learnMore,this.learnMoreIdx=0,this.range={start:0,end:this._end_range(0)},this.userphone=window.localStorage.getItem("orcsnet:userphone")||null,this.useremail=window.localStorage.getItem("orcsnet:useremail")||null,this.channelConfig=Plugin.app.config[Plugin.app.parsedParams.channel],this.uiConfig=this.channelConfig.dashboard||{},this.channelConfig.allTextWhite&&(this.uiConfig.allTextWhite=!0),this.t_prefix=this.uiConfig.t_prefix||this.channelConfig.t_prefix||Plugin.app.config.t_prefix||"Standard"},events:{"click .whatsthis":"learnMore","click .incr":"incr","click .decr":"decr","click .prev":"prev","click .next":"next","click .close":"closeDashboard","click .pay":"pay","click .reallypay":"payWithRP","click .returntocart":"returnToCart"},close:function(){this.stopListening(),this.unbind(),this.undelegateEvents()},render:function(){var a=0,b=Plugin.app.unpaid.toJSON();_.forEach(b,function(b){a+=b.amt}),this.range.start=this._checkPaginationIndexBounds(this.range.start),this.range.end=this._end_range(this.range.start),this.el.innerHTML=JST["app/scripts/templates/"+this.t_prefix+"/Dashboard.ejs"].apply({unpaid:b,saved_balance:a,range:this.range,learningMore:this.learningMore,learnMore:this.learnMore[this.learnMoreIdx],firstTimeUser:Plugin.app.firstTimeUser,channelConfig:this.channelConfig,uiConfig:this.uiConfig,creating_order:this.creating_order}),this.sizeBlankRows(),setTimeout(function(){Plugin.app.sendHeight()},200),setTimeout(function(){Plugin.log("sendScrollIntoView"),Plugin.app.sendScrollIntoView()},800)},renderInvoice:function(){var a=[],b=[];Plugin.app.unpaid.forEach(function(c){var d=c.get("to"),e=c.get("amt");e>0&&Plugin.app.publisherConfig.hasOwnProperty(d)&&(Plugin.app.publisherConfig[d].needPAN&&a.push(d),Plugin.app.publisherConfig[d].needDeclOfCitizenship&&b.push(d))}),this.el.innerHTML=JST["app/scripts/templates/"+this.t_prefix+"/Invoice.ejs"].apply({unpaid:Plugin.app.unpaid.toJSON(),total:this.total/100,royalty_amount:this.royalty_amount/100,fees:this.fees/100,needPAN:a,needDeclOfCitizenship:b,userphone:this.userphone,useremail:this.useremail,userpan:this.userpan,uiConfig:this.uiConfig,channelConfig:this.channelConfig}),setTimeout(function(){Plugin.app.sendHeight()},200)},incr:function(a){var b=null;if(a.target){var c=a.target.getAttribute("data-idx");null!==c&&(b=Number(c))}if(null===b&&a.currentTarget){var c=a.currentTarget.getAttribute("data-idx");null!==c&&(b=Number(c))}if(null!==b){var d=Plugin.app.unpaid.at(b);if(0===d.get("amt"))d.set({amt:5,dm:(new Date).valueOf()});else if(5===d.get("amt"))d.set({amt:10,dm:(new Date).valueOf()});else if(10===d.get("amt"))d.set({amt:25,dm:(new Date).valueOf()});else if(25===d.get("amt"))d.set({amt:50,dm:(new Date).valueOf()});else if(50===d.get("amt"))d.set({amt:100,dm:(new Date).valueOf()});else if(100===d.get("amt"))d.set({amt:250,dm:(new Date).valueOf()});else{if(250!==d.get("amt"))return;d.set({amt:500,dm:(new Date).valueOf()})}Plugin.app.sendEvent({action:"incr",royalty:d.toJSON()})}},decr:function(a){var b=a.target||a.currentTarget,c=Number(b.getAttribute("data-idx")),d=Plugin.app.unpaid.at(c);0!==d.get("amt")&&(5===d.get("amt")?d.set({amt:0,dm:null}):10===d.get("amt")?d.set({amt:5,dm:(new Date).valueOf()}):25===d.get("amt")?d.set({amt:10,dm:(new Date).valueOf()}):50===d.get("amt")?d.set({amt:25,dm:(new Date).valueOf()}):100===d.get("amt")?d.set({amt:50,dm:(new Date).valueOf()}):250===d.get("amt")?d.set({amt:100,dm:(new Date).valueOf()}):500===d.get("amt")?d.set({amt:250,dm:(new Date).valueOf()}):d.set({amt:500,dm:(new Date).valueOf()}),Plugin.app.sendEvent({action:"decr",royalty:d.toJSON()}))},learnMore:function(a){this.learningMore||(this.learningMore=!0,this.learnMoreIdx=-1),this.learnMoreIdx++,this.learnMoreIdx>=this.learnMore.length&&(this.learningMore=!1,this.learnMoreIdx=0),this.render()},_checkPaginationIndexBounds:function(a){return Math.min(Math.max(a,0),Plugin.app.unpaid.length)},_paginate:function(a){a=this._checkPaginationIndexBounds(a),a!==this.range.start&&a!==Plugin.app.unpaid.length&&(this.range={start:a,end:this._end_range(a)},this.render())},prev:function(a){this._paginate(this.range.start-3)},next:function(a){this._paginate(this.range.start+3)},sizeBlankRows:function(){var a=document.getElementsByClassName("realrow");if(a.length>0)for(var b=a[0].clientHeight,c=document.getElementsByClassName("blankrow"),d=0;d<c.length;d++)c[d].style.height=String(b)+"px"},closeDashboard:function(a){if(!this.inpayment){var b=!1;Plugin.app.unpaid.forEach(function(a){Plugin.app.storage.addEventToQ(a.toJSON()),a.get("url")===Plugin.app.parsedParams.content_url&&a.get("amt")>0&&(b=!0)}),Plugin.app.sendEvent({action:"closedash",royalty:"-"}),setTimeout(function(){_.defer(function(){Plugin.app.loadUnclicked()}),setTimeout(function(){Plugin.app.sendPositioning()},600)},0)}},updateCart:function(){Plugin.log("Dashboard.updateCart"),Plugin.app.unpaid.reset(Plugin.app.storage.getCurrentState())},payWithRP:function(a){Plugin.log("payWithRP"),a.preventDefault();var b={frompage:Plugin.app.parsedParams.content_url,subtotal:this.royalty_amount/100,fees:this.fees/100,total:this.total/100},c=0;Plugin.app.unpaid.forEach(function(a){0<a.get("amt")&&0>["default","orc","orcsnet-demo-publisher-1","orcsnet-demo-publisher-3"].indexOf(a.get("to"))&&(b["publisher_"+String(c)]=a.get("to"),b["amount_"+String(c)]=a.get("amt"),c++)});var d=document.getElementById("input-phone"),e=document.getElementById("input-email"),f=d.value.trim()||this.userphone,g=e.value.trim()||this.useremail;window.localStorage.setItem("orcsnet:userphone",f),window.localStorage.setItem("orcsnet:useremail",g),this.userphone=f,this.useremail=g;var h=document.getElementById("input-pan");if(h){var i=function(a){if(!a)return!1;if(a=a.toUpperCase().replace(/ /g,""),10!==a.length)return!1;var b=a.substring(0,3),c=a.substring(3,4),d=a.substring(4,5),e=a.substring(5,9),f=a.substring(9,10),g=b&&b.match(/[A-Z]+/);if(!g)return!1;var g=c&&c.match(/[CPHFATBLJG]/);if(!g)return!1;var g=d&&d.match(/[A-Z]/);if(!g)return!1;var g=e&&e.match(/[0-9]+/);if(!g)return!1;var g=f&&f.match(/[A-Z]/);return g?!0:!1},j=h.value.trim()||this.userpan;
if(!j||!i(j)){var k={"PAN number":"=> PAN number","Invalid PAN":"=> PAN number","=> PAN number":"=> PAN NUMBER! <=","=> PAN NUMBER! <=":"PAN number"};return h.value="",h.style.borderColor=Plugin.app.config.themeColor,j?h.placeholder="Invalid PAN":h.placeholder=k[h.placeholder],void(this.userpan="")}j=j.toUpperCase().replace(/ /g,""),b.PAN=j,this.userpan=j}var l=Plugin.app.rpOptions({amount:this.total,name:Plugin.app.config.ownerName,description:"An Orcsnet partner website",image:Plugin.app.config.logoUrl,ondismiss:this.renderInvoice.bind(this),notes:b});document.getElementById("orcsnet").style.height="600px",setTimeout(function(){Plugin.app.sendHeight()},200),setTimeout(function(){Plugin.log("sendScrollIntoView"),Plugin.app.sendScrollIntoView()},1500),Plugin.app.currentOrder={unpaid:Plugin.app.unpaid.toJSON().map(Plugin.app.packageRoyaltyForJson)};var m=new Razorpay(l);m.open()},pay:function(a){Plugin.log("[Dashboard.pay]");var b=0;Plugin.app.unpaid.forEach(function(a){b+=a.get("amt")});var c=Plugin.app.addFees(b);console.log(c),this.total=Math.round(100*c.amount_to_pay),this.fees=Math.round(100*c.fees),this.royalty_amount=Math.round(100*c.base_amount),this.renderInvoice()},returnToCart:function(a){Plugin.app.sendEvent({action:"cancel-pay",royalty:"-"}),this.render()}})}(),Plugin.Views=Plugin.Views||{},function(){"use strict";Plugin.Views.ThankYou=Backbone.NativeView.extend({initialize:function(){if(Plugin.app.currentOrder&&Plugin.app.currentOrder.unpaid){var a=new AWS.Lambda({region:"ap-south-1"});a.invoke({FunctionName:"CreateOrderForOrc",Payload:JSON.stringify({unpaid:Plugin.app.currentOrder.unpaid})},function(a,b){a&&(console.log(a),Plugin.app.sendEvent({action:"pay-error-cofo",royalty:"-"})),Plugin.app.currentOrder=null})}Plugin.app.storage.flushQ(),this.updateCart(),this.channelConfig=Plugin.app.config[Plugin.app.parsedParams.channel],this.uiConfig=Plugin.app.config.thankyou||this.channelConfig.thankyou||{},this.channelConfig.allTextWhite&&(this.uiConfig.allTextWhite=!0),this.t_prefix=this.uiConfig.t_prefix||this.channelConfig.t_prefix||Plugin.app.config.t_prefix||"Standard"},events:{"click .close":"closeWindow"},close:function(){this.stopListening(),this.unbind(),this.undelegateEvents()},render:function(){this.el.innerHTML=JST["app/scripts/templates/"+this.t_prefix+"/ThankYou.ejs"].apply({uiConfig:this.uiConfig,channelConfig:this.channelConfig}),setTimeout(function(){Plugin.app.requestPositioning(),setTimeout(function(){Plugin.app.sendHeight()},100)},200)},closeWindow:function(a){_.defer(function(){Plugin.app.backToFront()})},updateCart:function(){Plugin.log("ThankYou.updateCart"),Plugin.app.unpaid.reset(Plugin.app.storage.getCurrentState())}})}(),Plugin.Views=Plugin.Views||{},function(){"use strict";Plugin.Views.SupportKL=Backbone.NativeView.extend({initialize:function(){this.channelConfig=Plugin.app.config.supportkl,this.uiConfig=this.channelConfig.supportkl||{},this.channelConfig.allTextWhite&&(this.uiConfig.allTextWhite=!0),this.monthly=!1},events:{"click #monthly":"toggleMonthly","click #makemonthly":"makeMonthly","click #makeonce":"makeOnce","click .pay-now":"payNow"},close:function(){this.stopListening(),this.unbind(),this.undelegateEvents()},render:function(){this.el.innerHTML=JST["app/scripts/templates/KhabarLahariya/SupportKL-2.ejs"].apply({uiConfig:this.uiConfig,channelConfig:this.channelConfig,monthly:this.monthly}),setTimeout(function(){Plugin.app.requestPositioning(),setTimeout(function(){Plugin.app.sendHeight()},100)},200)},sendEvent:function(a,b){return royalty},toggleMonthly:function(a){this.monthly=!this.monthly,this.render()},makeMonthly:function(a){this.monthly=!0,this.render()},makeOnce:function(a){this.monthly=!1,this.render()},payNow:function(a){a.preventDefault();var b=a.target||a.currentTarget,c=Number(b.getAttribute("data-amt")),d={to:"khabar-lahariya",amt:c,dm:(new Date).valueOf()};Plugin.app.sendEvent({action:"supportkl",royalty:d}),document.getElementById("orcsnet").style.height="600px",setTimeout(function(){Plugin.app.sendHeight()},200),setTimeout(function(){Plugin.log("sendScrollIntoView"),Plugin.app.sendScrollIntoView()},500);var e={frompage:"SupportKL",publisher_0:"khabar-lahariya",amount_0:c,subtotal:c,fees:0,total:c};this.monthly&&(e.monthly="yes"),console.log(e);var f=Plugin.app.rpOptions({amount:100*c,name:Plugin.app.config.ownerName,description:"An Orcsnet partner website",image:Plugin.app.config.logoUrl,ondismiss:this.render.bind(this),notes:e}),g=new Razorpay(f);g.open()}})}(),Plugin.Views=Plugin.Views||{},function(){"use strict";Plugin.Views.PayNow=Backbone.NativeView.extend({getConfigVal:function(a,b){return this.uiConfig&&this.uiConfig.hasOwnProperty(a)?this.uiConfig[a]:this.channelConfig&&this.channelConfig.hasOwnProperty(a)?this.channelConfig[a]:Plugin.app.config.hasOwnProperty(a)?Plugin.app.config[a]:b},initialize:function(){var a=function(a){return Math.floor(Math.random()*Math.floor(a))};this.channelConfig=Plugin.app.config[Plugin.app.parsedParams.channel],this.uiConfig=Plugin.app.config.paynow||this.channelConfig.paynow||{},this.t_prefix=this.getConfigVal("t_prefix","Standard");var b=this.getConfigVal("messages",[]);this.messageIdx=a(b.length),this.messageToShow=b[this.messageIdx],this.monthly=!1,this.amount_selected=!1,this.userphone=window.localStorage.getItem("orcsnet:userphone")||null,this.useremail=window.localStorage.getItem("orcsnet:useremail")||null},events:{"click .select-amount":"selectAmount","click #monthly":"toggleMonthly","click .pay-now":"payNow"},close:function(){this.stopListening(),this.unbind(),this.undelegateEvents()},render:function(){var a=0;Plugin.app.unpaid.forEach(function(b){a+=b.get("amt")});var b="app/scripts/templates/"+this.t_prefix+"/PayNow.ejs";this.el.innerHTML=JST[b].apply({uiConfig:this.uiConfig,channelConfig:this.channelConfig,messageToShow:this.messageToShow,amount_selected:this.amount_selected,monthly:this.monthly,amount:this.amount,userphone:this.userphone,useremail:this.useremail}),setTimeout(function(){Plugin.app.requestPositioning(),setTimeout(function(){Plugin.app.sendHeight()},100)},200)},toggleMonthly:function(a){this.monthly=!this.monthly,this.render()},sendEvent:function(a,b){var c={version:1,to:Plugin.app.parsedParams.ownerid,url:"",title:"",author:"",amt:b,dm:(new Date).valueOf(),midx:this.messageIdx};return Plugin.app.sendEvent({action:Plugin.app.parsedParams.channel,royalty:c}),c},selectAmount:function(a){a.preventDefault();var b=a.target||a.currentTarget;this.amount=Number(b.getAttribute("data-amt")),this.sendEvent(this.amount),this.amount_selected=!0,this.render()},payNow:function(a){a.preventDefault(),document.getElementById("orcsnet").style.height="600px",setTimeout(function(){Plugin.app.sendHeight()},200),setTimeout(function(){Plugin.log("sendScrollIntoView"),Plugin.app.sendScrollIntoView()},500);var b=document.getElementById("input-phone"),c=document.getElementById("input-email"),d=b.value.trim()||this.userphone,e=c.value.trim()||this.useremail;window.localStorage.setItem("orcsnet:userphone",d),window.localStorage.setItem("orcsnet:useremail",e),this.userphone=d,this.useremail=e;var f=document.getElementById("input-pan");if(f){var g=function(a){if(!a)return!1;if(a=a.toUpperCase().replace(/ /g,""),10!==a.length)return!1;var b=a.substring(0,3),c=a.substring(3,4),d=a.substring(4,5),e=a.substring(5,9),f=a.substring(9,10),g=b&&b.match(/[A-Z]+/);if(!g)return!1;var g=c&&c.match(/[CPHFATBLJG]/);if(!g)return!1;var g=d&&d.match(/[A-Z]/);if(!g)return!1;var g=e&&e.match(/[0-9]+/);if(!g)return!1;var g=f&&f.match(/[A-Z]/);return g?!0:!1},h=f.value.trim()||this.userpan;if(!h||!g(h)){var i={"PAN number":"=> PAN number","Invalid PAN":"=> PAN number","=> PAN number":"=> PAN NUMBER! <=","=> PAN NUMBER! <=":"PAN number"};return f.value="",f.style.borderColor=Plugin.app.config.themeColor,h?f.placeholder="Invalid PAN":f.placeholder=i[f.placeholder],void(this.userpan="")}h=h.toUpperCase().replace(/ /g,""),j.PAN=h,this.userpan=h}var j={channel:Plugin.app.parsedParams.channel,publisher_0:Plugin.app.config.ownerName,amount_0:this.amount,subtotal:this.amount,fees:0,total:this.amount};this.monthly&&(j.monthly="yes");var k=Plugin.app.rpOptions({amount:100*this.amount,name:Plugin.app.config.ownerName,description:"An Orcsnet partner website",image:Plugin.app.config.logoUrl,ondismiss:this.render.bind(this),notes:j}),l=new Razorpay(k);l.open()}})}(),Plugin.Views=Plugin.Views||{},function(){"use strict";Plugin.Views.AllInOne=Backbone.NativeView.extend({getConfigVal:function(a,b){return this.uiConfig&&this.uiConfig.hasOwnProperty(a)?this.uiConfig[a]:this.channelConfig&&this.channelConfig.hasOwnProperty(a)?this.channelConfig[a]:Plugin.app.config.hasOwnProperty(a)?Plugin.app.config[a]:b},initialize:function(){this.listenTo(Plugin.app.unpaid,"add",this.render),this.listenTo(Plugin.app.unpaid,"remove",this.render),this.listenTo(Plugin.app.unpaid,"change",this.render),this.listenTo(Plugin.app.unpaid,"reset",this.render);var a=function(a){return Math.floor(Math.random()*Math.floor(a))};this.channelConfig=Plugin.app.config[Plugin.app.parsedParams.channel],this.uiConfig=Plugin.app.config.allinone||this.channelConfig.allinone||{},this.t_prefix=this.getConfigVal("t_prefix","Standard");var b=this.getConfigVal("messages",[]);this.messageIdx=a(b.length),this.messageToShow=b[this.messageIdx],this.userphone=window.localStorage.getItem("orcsnet:userphone")||null,this.useremail=window.localStorage.getItem("orcsnet:useremail")||null,this.showInvoice=!1},events:{"click .add-to-cart":"addToCart","click .clear-cart":"clearLocalCart","click .toggle-invoice":"toggleInvoice","click .pay-now":"payNow"},close:function(){this.stopListening(),this.unbind(),this.undelegateEvents()},needPanOrDOC:function(){var a=!1,b=!1;return Plugin.app.unpaid.forEach(function(c){var d=c.get("to"),e=c.get("amt");e>0&&Plugin.app.publisherConfig.hasOwnProperty(d)&&(Plugin.app.publisherConfig[d].needPAN&&(a=!0),Plugin.app.publisherConfig[d].needDOC&&(b=!0))}),a||b},render:function(){this.feeStruct=Plugin.app.addFees(_.sum(Plugin.app.unpaid.pluck("amt")));var a="app/scripts/templates/"+this.t_prefix+"/AllInOne.ejs";this.el.innerHTML=JST[a].apply({uiConfig:this.uiConfig,channelConfig:this.channelConfig,messageToShow:this.messageToShow,unpaid:Plugin.app.unpaid.toJSON(),showInvoice:this.showInvoice,subtotal:this.feeStruct.base_amount,fees:this.feeStruct.fees,total:this.feeStruct.amount_to_pay,needPanOrDOC:this.needPanOrDOC(),userphone:this.userphone,useremail:this.useremail}),setTimeout(function(){Plugin.app.requestPositioning(),setTimeout(function(){Plugin.app.sendHeight()},100)},200)},sendEvent:function(a,b){var c={version:1,to:Plugin.app.parsedParams.ownerid,url:Plugin.app.parsedParams.content_url,title:Plugin.app.parsedParams.title||"",author:Plugin.app.parsedParams.author||"",amt:b,dm:(new Date).valueOf(),midx:this.messageIdx};return Plugin.app.sendEvent({action:a,royalty:c}),c},addToCart:function(a){a.preventDefault();var b=a.target||a.currentTarget;Plugin.app.config.useMicron&&window.micron&&Plugin.app.queueMicronEffect({id:b.id,interaction:"bounce",durationMs:150,timing:"ease-out"});var c=Plugin.app.runMicronEfects(),d=this;setTimeout(function(){Plugin.app.micronEffectQueue=[];var a=Number(b.getAttribute("data-amt"));d.royalty&&(a+=d.royalty.amt),d.royalty=d.sendEvent("tap",a),Plugin.app.storage.addEventToQ(d.royalty)},c)},clearLocalCart:function(a){Plugin.app.storage.flushQ(),this.updateCart(),this.royalty=null},toggleInvoice:function(a){this.showInvoice=!this.showInvoice,this.render()},payNow:function(a){a.preventDefault();a.target||a.currentTarget;document.getElementById("orcsnet").style.height="600px",setTimeout(function(){Plugin.app.sendHeight()},200),setTimeout(function(){Plugin.log("sendScrollIntoView"),Plugin.app.sendScrollIntoView()},500);var b={frompage:Plugin.app.parsedParams.content_url,channel:Plugin.app.parsedParams.channel,publisher_0:Plugin.app.config.ownerName,amount_0:this.payNowAmt,subtotal:this.payNowAmt,fees:0,total:this.payNowAmt},c=Plugin.app.rpOptions({amount:100*this.payNowAmt,name:Plugin.app.config.ownerName,description:"An Orcsnet partner website",image:Plugin.app.config.logoUrl,ondismiss:this.render.bind(this),notes:b}),d=new Razorpay(c);d.open()},updateCart:function(){Plugin.app.unpaid.reset(Plugin.app.storage.getCurrentState())}})}(),Plugin.Views=Plugin.Views||{},function(){"use strict";Plugin.Views.SoftSell=Backbone.NativeView.extend({getConfigVal:function(a,b){return this.uiConfig&&this.uiConfig.hasOwnProperty(a)?this.uiConfig[a]:this.channelConfig&&this.channelConfig.hasOwnProperty(a)?this.channelConfig[a]:Plugin.app.config.hasOwnProperty(a)?Plugin.app.config[a]:b},initialize:function(){var a=function(a){return Math.floor(Math.random()*Math.floor(a))};this.channelConfig=Plugin.app.config[Plugin.app.parsedParams.channel],this.uiConfig=this.channelConfig.softsell||{},this.t_prefix=this.getConfigVal("t_prefix","Standard");var b=this.getConfigVal("messages",[]);this.messageIdx=a(b.length),this.messageToShow=b[this.messageIdx],this.monthly=!1,this.amount_selected=!1,this.userphone=window.localStorage.getItem("orcsnet:userphone")||null,this.useremail=window.localStorage.getItem("orcsnet:useremail")||null},events:{},close:function(){this.stopListening(),this.unbind(),this.undelegateEvents()},render:function(){var a="app/scripts/templates/"+this.t_prefix+"/SoftSell.ejs";this.el.innerHTML=JST[a].apply({uiConfig:this.uiConfig,channelConfig:this.channelConfig,messageToShow:this.messageToShow}),setTimeout(function(){Plugin.app.requestPositioning(),setTimeout(function(){Plugin.app.sendHeight()},200)},200)}})}();